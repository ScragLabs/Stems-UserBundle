{% extends 'admin.html.twig' %}

{% block title %}Users Overview{% endblock %}

{% block content %}
	<h1 class="pages">User Accounts</h1>
	<div class="controls">
		<a href="{{ path('stems_admin_user_create') }}" class="btn btn-primary right"><i class="fa faw-fw fa-plus"></i> Add New User</a>
		<br class="clear"/>
	</div>

	<table>
		<thead>
			<tr>
				<th><a>ID</a></th>
				<th><a>Name</a></th>
				<th><a>Email</a></th>
				<th><a>Active</a></th>
				<th><a>Permissions</a></th>
				<th width="100px">Actions</th>
			</tr>
		</thead>
		<tbody>
			{% for user in users %}
				<tr>
					<td>{{ user.id }}</td>
					<td><h4>{{ user.fullname }}</h4></td>
					<td>{{ user.email }}</td>
					<td>
						{% if user.enabled %}<i class="fa fa-check" title="Enabled"></i>{% else %}<i class="fa fa-cross" title="Disabled"></i>{% endif %}
					</td>
					<td></td>
					<td>
						<a href="{{ path('stems_admin_user_edit', { 'id' : user.id }) }}" class="btn btn-circle btn-small" title="Account Settings"><i class="fa faw-fw fa-cog"></i></a> 
						{% if user.active %}
							<a href="{{ path('stems_admin_user_deactivate', { 'id' : user.id }) }}" class="btn btn-circle btn-small" title="Deactivate User" ><i class="fa faw-fw fa-ban"></i></a>
						{% else %}
							<a href="{{ path('stems_admin_user_activate', { 'id' : user.id }) }}" class="btn btn-circle btn-small" title="Activate User" ><i class="fa faw-fw fa-check-circle-o"></i></a>
						{% endif %}
						<a href="{{ path('stems_admin_user_delete', { 'id' : user.id }) }}" class="btn btn-danger btn-circle btn-small" title="Delete" onclick="return confirm('Are you sure you want to delete this user?');"><i class="fa faw-fw fa-times"></i></a> 
					</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="6"><p>There are no users</p></td>
				</tr>
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<th><a>ID</a></th>
				<th><a>Name</a></th>
				<th><a>Email</a></th>
				<th><a>Active</a></th>
				<th><a>Permissions</a></th>
				<th width="100px">Actions</th>
			</tr>
		</tfoot>
	</table>

{% endblock %}
